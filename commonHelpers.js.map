{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('form');\nconst photosList = document.querySelector('ul');\n\nform.addEventListener('submit', searchImages);\n\nfunction searchImages(event) {\n  event.preventDefault();\n  const inputContent = event.currentTarget.text.value.trim();\n  if (inputContent === '') {\n    iziToast.info({\n      title: 'Attention',\n      message: 'Please enter a request',\n    });\n    return;\n  }\n  console.log(inputContent);\n\n  const searchParams = new URLSearchParams({\n    key: '42277642-5b5e0c3e2383e813180f7c1aa',\n    q: inputContent,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(fetchThen)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchThen(photos) {\n  if (photos.totalHits == 0) {\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  console.log(photos);\n\n  const markup = photos.hits\n    .map(photo => {\n      return `\n          <li>\n            <img src=${photo.webformatURL} alt=\"${photo.tags}\">\n          </li>\n      `;\n    })\n    .join('');\n  photosList.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["form","photosList","searchImages","event","inputContent","iziToast","searchParams","response","fetchThen","error","photos","markup","photo"],"mappings":"svBAIA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,IAAI,EAE9CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAeD,EAAM,cAAc,KAAK,MAAM,OACpD,GAAIC,IAAiB,GAAI,CACvBC,EAAS,KAAK,CACZ,MAAO,YACP,QAAS,wBACf,CAAK,EACD,MACD,CACD,QAAQ,IAAID,CAAY,EAExB,MAAME,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BE,CAAY,EAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,CAAS,EACd,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASD,EAAUE,EAAQ,CACzB,GAAIA,EAAO,WAAa,EAAG,CACzBL,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACR,CAAK,EACD,MACD,CACD,QAAQ,IAAIK,CAAM,EAElB,MAAMC,EAASD,EAAO,KACnB,IAAIE,GACI;AAAA;AAAA,uBAEUA,EAAM,YAAY,SAASA,EAAM,IAAI;AAAA;AAAA,OAGvD,EACA,KAAK,EAAE,EACVX,EAAW,mBAAmB,YAAaU,CAAM,CACnD"}